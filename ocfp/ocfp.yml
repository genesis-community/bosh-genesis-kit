---
meta:
  env_name: (( grab $GENESIS_ENVIRONMENT ))
  vault_mount: (( grab $GENESIS_SECRETS_MOUNT ))
  env_slug: (( grab $GENESIS_SECRETS_SLUG ))
  vault_tf: (( concat meta.vault_mount "tf/" meta.env_slug ))
  vault_env: (( concat meta.vault_mount meta.env_slug))
  vault_certs: (( concat meta.vault_mount "certs" ))

params:
  trusted_certs: # TODO: ocfp-no-trusted-certs.yml
  - (( vault meta.vault_certs "/org:ca" )) # Organization CA, if exists
  - (( vault meta.vault_certs "/dbs:ca" )) # External Databases CA

  # Required for add-secrets
  ca_validity_period: "10y"
  cert_validity_period: "10y"

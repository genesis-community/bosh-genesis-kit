---
meta:
  #NOTE: vvv next genesis rc will have these 3  built in, remove then
  vault_env:    (( grab $GENESIS_SECRETS_SLUG ))
  vault_mount:  (( grab $GENESIS_SECRETS_MOUNT ))
  vault_exodus: (( grab $GENESIS_EXODUS_MOUNT ))
  #      ^^^

  ocfp:
    env:
      scale: (( grab params.env.scale || "dev" ))

    vault:
      tf: (( concat meta.vault_mount "tf/" meta.vault_env ))

    certs:
      trusted:
        - (( vault meta.vault_mount "/certs/org:ca" )) # Organization CA, if exists
        - (( vault meta.vault_mount "/certs/dbs:ca" )) # External Databases CA

  releases: # NOTE: This is because of runtime config
    toolbelt:
      version: "3.7.0"
      sha1: "377b390b7f5d358a2dae463109350250a769eb3f"
      url: (( concat "https://bosh.io/d/github.com/cloudfoundry-community/toolbelt-boshrelease?v=" meta.releases.toolbelt.version ))

